(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7f5be80"],{"958f":function(t,e,o){},fe9d:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-container"},[o("el-card",{attrs:{"body-style":{padding:"0"}},scopedSlots:t._u([{key:"header",fn:function(){return[o("el-link",{attrs:{underline:!1}},[t._v("Article Title")])]},proxy:!0}])},[o("el-input",{staticClass:"title-input",attrs:{placeholder:"Enter article title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),o("el-card",{staticClass:"margin-top-xs",attrs:{"body-style":{padding:"0"}},scopedSlots:t._u([{key:"header",fn:function(){return[o("div",{staticClass:"flex"},[o("el-link",{attrs:{underline:!1}},[t._v("Article Content")]),o("div",{staticClass:"flex-sub"}),o("el-button",{staticStyle:{"margin-inline":"10px"},attrs:{type:"danger",size:"mini"},on:{click:t.back}},[t._v("Exit Editing ")]),o("el-popover",{attrs:{placement:"top",width:"600"},model:{value:t.comment_visible,callback:function(e){t.comment_visible=e},expression:"comment_visible"}},[o("p",[t._v("Add Comment")]),o("el-input",{staticStyle:{width:"80%",margin:"auto"},attrs:{placeholder:"Enter comment"},model:{value:t.form_addComment.comment_content,callback:function(e){t.$set(t.form_addComment,"comment_content",e)},expression:"form_addComment.comment_content"}}),o("div",{staticStyle:{"text-align":"left",margin:"0"}},[o("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini"},on:{click:function(e){t.addComment(),t.form_addComment.comment_content=null,t.comment_visible=!1}}},[t._v("Confirm")])],1),o("el-table",{attrs:{data:t.commentList,height:"400"}},[o("el-table-column",{attrs:{width:"120",property:"username",label:"Name"}}),o("el-table-column",{attrs:{width:"120",property:"time",label:"Time"}}),o("el-table-column",{attrs:{width:"300",property:"content",label:"Comment"}})],1),o("el-button",{staticStyle:{"margin-inline":"10px"},attrs:{slot:"reference",size:"mini",icon:"el-icon-plus"},slot:"reference"},[t._v("Comment ")])],1),o("el-popover",{attrs:{placement:"top",width:"320"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[o("el-popover",{attrs:{placement:"top",width:"280"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[o("el-table",{attrs:{data:t.gridData,height:"400"}},[o("el-table-column",{attrs:{width:"160",property:"username",label:"Name"}}),o("el-table-column",{attrs:{align:"center",label:"Action",width:"80"}},[[o("el-button",{attrs:{size:"mini",underline:!1}},[t._v("Add")])]],2)],1),o("el-button",{staticStyle:{margin:"10px"},attrs:{slot:"reference",size:"mini",icon:"el-icon-plus"},slot:"reference"},[t._v("Add Team Member ")])],1),o("el-table",{attrs:{data:t.gridData}},[o("el-table-column",{attrs:{width:"140",property:"name",label:"Name"}}),o("el-table-column",{attrs:{width:"60",property:"power",label:"Permission"}}),o("el-table-column",{attrs:{align:"center",label:"Action",width:"80"}},[[o("el-button",{attrs:{size:"mini",type:"danger",underline:!1}},[t._v("Delete")])]],2)],1)],1),o("el-button",{attrs:{size:"mini"},on:{click:t.Save}},[t._v("Save")]),o("el-button",{attrs:{size:"mini"},on:{click:t.Like}},[t._v("Favorite")]),o("el-button",{attrs:{type:"warning",size:"mini"},on:{click:t.share}},[t._v("Share")])],1)]},proxy:!0}])},[o("RichTextEditor",{ref:"richTextEditor",attrs:{height:600}})],1),t.htmlContent?o("div",{staticClass:"margin-top padding preview-content",domProps:{innerHTML:t._s(t.htmlContent)}}):t._e(),t.jsonContent?o("div",{staticClass:"margin-top padding preview-content"},[t._v(" "+t._s(t.jsonContent)+" ")]):t._e()],1)},n=[],s=(o("fb6a"),o("a9e3"),o("74ca")),i=o("8159"),r=o("0f9a"),m=o("4328"),l=o.n(m),d={name:"RichTextGroup",components:{RichTextEditor:s["default"]},data:function(){return{form:{token:r["getters"].getToken(r["state"]),user_id:r["getters"].getUserId(r["state"]),username:r["getters"].getUserName(r["state"]),word_id:Number(localStorage.getItem("team_word_id")),team_id:Number(localStorage.getItem("team_id")),word_content:""},form1:{token:r["getters"].getToken(r["state"]),user_id:r["getters"].getUserId(r["state"]),username:r["getters"].getUserName(r["state"]),word_id:Number(localStorage.getItem("team_word_id")),team_id:Number(localStorage.getItem("team_id")),word_name:""},form2:{token:r["getters"].getToken(r["state"]),user_id:r["getters"].getUserId(r["state"]),username:r["getters"].getUserName(r["state"]),word_id:Number(localStorage.getItem("team_word_id")),team_id:Number(localStorage.getItem("team_id")),word_content:""},form3:{token:r["getters"].getToken(r["state"]),user_id:r["getters"].getUserId(r["state"]),username:r["getters"].getUserName(r["state"]),word_id:Number(localStorage.getItem("team_word_id"))},form4:{word_id:Number(localStorage.getItem("team_word_id")),word_name:localStorage.getItem("team_word_name")},form_getCommentList:{token:r["getters"].getToken(r["state"]),user_id:r["getters"].getUserId(r["state"]),username:r["getters"].getUserName(r["state"]),word_id:localStorage.getItem("word_id")},form_addComment:{token:r["getters"].getToken(r["state"]),user_id:r["getters"].getUserId(r["state"]),username:r["getters"].getUserName(r["state"]),word_id:localStorage.getItem("word_id"),comment_content:""},title:localStorage.getItem("team_word_name"),htmlContent:"",jsonContent:"",comment:"",ID:"",isPublic:!0,loading:!1,gridData:[{name:"ABC",power:"1"},{name:"CCC",power:"2"}],commentData:[{name:"ABC",time:"2024-05-11",comment:"Test"}],commentList:[]}},created:function(){this.getCommentList()},mounted:function(){i["a"].changeDevice("mobile"),i["a"].toggleCollapse(!0)},beforeDestroy:function(){this.exitEdit()},destroyed:function(){i["a"].changeDevice("pc"),i["a"].toggleCollapse(!1)},methods:{share:function(){var t=this;this.$axios.post("/worddocx/share",l.a.stringify(this.form4)).then((function(e){0===e.data.result?(alert("Your share link ishttp://49.235.148.137/#/share"+e.data.x),localStorage.setItem("refresh","1")):t.$message.error(e.data.message)}))},back:function(){i["a"].toGroupFile&&i["a"].toGroupFile()},Like:function(){var t=this;this.$axios.post("/worddocx/user_collect_word",l.a.stringify(this.form3)).then((function(e){4===e.data.result?t.$message.success(e.data.message):t.$message.error(e.data.message)}))},addComment:function(){var t=this;this.$axios.post("/worddocx/user_comment_word",l.a.stringify(this.form_addComment)).then((function(e){3===e.data.result?(t.getCommentList(),t.$message.success(e.data.message)):t.$message.error(e.data.message)}))},getCommentList:function(){var t=this;this.loading=!0,this.commentList=[],this.$axios.post("/worddocx/user_get_comment_list",l.a.stringify(this.form_getCommentList)).then((function(e){if(4===e.data.result)for(var o=0;o<e.data.word_comment_list.length;o++){var a={id:0,username:"",time:"",content:""};a.id=e.data.word_comment_list[o].comment_id,a.username=e.data.word_comment_list[o].comment_username,a.time=e.data.word_comment_list[o].comment_time,a.content=e.data.word_comment_list[o].comment_content,t.commentList.push(a)}t.loading=!1}))},Save:function(){var t=this;this.form2.word_content=this.$refs.richTextEditor.getJsonContent().slice(7,-1),this.$axios.post("/worddocx/team_save_word",l.a.stringify(this.form2)).then((function(e){5===e.data.result?t.$message.success(e.data.message):t.$message.error(e.data.message)})),this.form1.word_name=this.title,this.$axios.post("/worddocx/team_rename_word",l.a.stringify(this.form1))},exitEdit:function(){var t=this;this.form.word_content=this.$refs.richTextEditor.getJsonContent().slice(7,-1),this.$axios.post("/worddocx/team_out_edit_word",l.a.stringify(this.form)).then((function(e){3===e.data.result?(t.$message.success(e.data.message),localStorage.setItem("enable","true")):t.$message.error(e.data.message)})),this.form1.word_name=this.title,this.$axios.post("/worddocx/team_rename_word",l.a.stringify(this.form1))},getHtmlContent:function(){this.htmlContent=this.$refs.richTextEditor.getHtmlContent()},getJsonContent:function(){console.log(localStorage.getItem("flag")),console.log(JSON.parse(localStorage.getItem("team_word_content"))),this.jsonContent=this.$refs.richTextEditor.getJsonContent()}}},c=d,g=(o("ff8a"),o("2877")),u=Object(g["a"])(c,a,n,!1,null,"1d0007fc",null);e["default"]=u.exports},ff8a:function(t,e,o){"use strict";o("958f")}}]);
