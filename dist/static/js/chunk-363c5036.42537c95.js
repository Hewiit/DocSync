(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-363c5036"],{"973e":function(e,t,n){(function(t,n){e.exports=n()})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"2e08":function(e,t,n){"use strict";n("7c49")},"688c":function(e,t,n){},"7c49":function(e,t,n){},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8875:function(e,t,n){var r,o,i;(function(n,s){o=[],r=s,i="function"===typeof r?r.apply(t,o):r,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(m){var n,r,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,c=i.exec(m.stack)||s.exec(m.stack),a=c&&c[1]||!1,u=c&&c[2]||!1,f=document.location.href.replace(document.location.hash,""),l=document.getElementsByTagName("script");a===f&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var d=0;d<l.length;d++){if("interactive"===l[d].readyState)return l[d];if(l[d].src===a)return l[d];if(a===f&&l[d].innerHTML&&l[d].innerHTML.trim()===o)return l[d]}return null}}return e}))},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),i=n("825a"),s=n("c04e"),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(i(e),t=s(t,!0),i(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},a398:function(e,t,n){"use strict";n("688c")},b0c0:function(e,t,n){var r=n("83ab"),o=n("9bf2").f,i=Function.prototype,s=i.toString,c=/^\s*function ([^ (]*)/,a="name";r&&!(a in i)&&o(i,a,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(e){return""}}})},be35:function(e,t,n){},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),i=r.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}n("b0c0");var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"vaw-verify-container"},[n("div",{staticClass:"drag-bg",class:{"reset-width-anim":e.resetStatus},style:{width:e.lockStyle.left+"px"}}),n("span",{ref:"lockBtn",staticClass:"lock-btn iconfont",class:{"reset-left-anim":e.resetStatus},style:{left:e.lockStyle.left+"px",color:e.verifySuccess?"#7ac23c":"737383","font-size":e.verifySuccess?"20px":"26px"},on:{touchstart:e.onMouseDown,mousedown:e.onMouseDown}},[e._v(e._s(e.verifySuccess?"":""))]),n("div",{staticClass:"text-tip",class:{"mask-slide":!e.verifySuccess},style:{color:e.verifySuccess?"#ffffff":"#333333"}},[e._v(e._s(e.textTip))])])},c=[],a=(n("be35"),{name:"VawVerifySimple",data:function(){return{lockStyle:{left:0},maxWidth:0,startX:0,endX:0,resetStatus:!1,verifySuccess:!1,textTip:"请按住滑块，拖动到最右边"}},mounted:function(){this.maxWidth=this.$refs.container.clientWidth-this.$refs.lockBtn.clientWidth,this.addEventListener()},destroyed:function(){this.removeEventListener()},methods:{onMouseDown:function(e){this.verifySuccess||(e.preventDefault(),this.resetStatus=!1,this.startX=e.clientX||e.changedTouches[0].clientX,this.canMove=!0)},onMouseMove:function(e){if(this.canMove&&!this.verifySuccess){this.endX=e.clientX||e.changedTouches[0].clientX;var t=(this.endX||e.changedTouches[0].clientX)-this.startX;this.lockStyle.left=Math.max(0,Math.min(t,this.maxWidth)),this.lockStyle.left>=this.maxWidth&&this.handleSuccess()}},onMouseUp:function(){this.verifySuccess||(this.$emit("verify-fail"),this.canMove=!1,this.resetStatus=!0,this.lockStyle.left=0)},handleSuccess:function(){this.verifySuccess=!0,this.textTip="验证通过",this.removeEventListener(),this.$emit("verify-success")},reset:function(){this.addEventListener(),this.resetStatus=!0,this.verifySuccess=!1,this.canMove=!1,this.textTip="请按住滑块，拖动到最右边",this.lockStyle.left=0},addEventListener:function(){document.getElementsByTagName("html")[0].addEventListener("mousemove",this.onMouseMove),document.getElementsByTagName("html")[0].addEventListener("mouseup",this.onMouseUp),document.getElementsByTagName("html")[0].addEventListener("touchmove",this.onMouseMove),document.getElementsByTagName("html")[0].addEventListener("touchend",this.onMouseUp)},removeEventListener:function(){document.getElementsByTagName("html")[0].removeEventListener("mousemove",this.onMouseMove),document.getElementsByTagName("html")[0].removeEventListener("mouseup",this.onMouseUp),document.getElementsByTagName("html")[0].removeEventListener("touchmove",this.onMouseMove),document.getElementsByTagName("html")[0].removeEventListener("touchend",this.onMouseUp)}}}),u=a;function f(e,t,n,r,o,i,s,c){var a,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=a):o&&(a=c?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),a)if(u.functional){u._injectStyles=a;var f=u.render;u.render=function(e,t){return a.call(t),f(e,t)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,a):[a]}return{exports:e,options:u}}n("2e08"),n("a398");var l=f(u,s,c,!1,null,"2b6cee1d",null),d=l.exports,m=function(e){return e.component(d.name,d)};"undefined"!==typeof window&&window.Vue&&m(window.Vue),d.install=m;var p=d;t["default"]=p}})}))},"9ed6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("div",{ref:"loginWrapper",staticClass:"login-bg-wrapper"},[n("img",{attrs:{src:e.$isMobile?e.ImageMobileBg1:e.ImageBg1}})]),n("div",{staticClass:"flex form-wrapper"},[n("div",{staticClass:"left"}),n("div",{staticClass:"right"},[e._m(0),n("el-form",{staticClass:"form-container",attrs:{model:e.form}},[n("div",{staticClass:"item-wrapper"},[n("el-input",{attrs:{placeholder:"Please enter username/email","prefix-icon":"el-icon-user",clearable:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),n("div",{staticClass:"item-wrapper margin-top-lg"},[n("el-input",{attrs:{placeholder:"Please enter password",type:"password",clearable:"","prefix-icon":"el-icon-lock"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("div",{staticClass:"flex-sub"}),n("div",{staticClass:"margin-top-lg"},[n("el-button",{staticClass:"login",staticStyle:{color:"#0f0f10"},on:{click:e.login}},[e._v(" Login ")])],1),n("div",{staticClass:"margin-top-rg"},[n("el-button",{staticClass:"login",staticStyle:{color:"#0f0f10"},attrs:{type:"info"},on:{click:e.register}},[e._v(" Register ")])],1)]),n("div",{staticClass:"my-width flex-sub margin-top"},[n("div",{staticClass:"flex justify-between"},[n("el-checkbox",{staticStyle:{color:"#ffffff"},model:{value:e.autoLogin,callback:function(t){e.autoLogin=t},expression:"autoLogin"}},[e._v("Auto Login")]),n("el-link",{staticStyle:{color:"#ffffff"},attrs:{underline:!1},on:{click:e.forget}},[e._v("Forgot Password?")])],1)])],1)]),n("div",{staticClass:"login-footer-wrapper"},[n("PageFooter")],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-width flex-sub flex justify-center align-center"},[n("div",{staticClass:"title margin-left",staticStyle:{color:"deepskyblue"}},[e._v("Welcome to DocSync")])])}],i=n("b7e7"),s=n.n(i),c=n("e8fb"),a=n.n(c),u=n("bd4b"),f=n("973e"),l=n.n(f),d=(n("e848"),n("4328")),m=n.n(d),p={},h={name:"Login",components:{PageFooter:u["default"],VawVerify:l.a},data:function(){return{form:{username:"",password:""},ImageBg1:s.a,ImageMobileBg1:a.a,redirect:"",autoLogin:!1,verifyState:!1,defaultTheme:this.$layoutStore.state.theme}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect)},immediate:!0}},mounted:function(){this.$layoutStore.changeTheme("light")},destroyed:function(){this.$layoutStore.changeTheme(this.defaultTheme)},methods:{login:function(){var e=this;this.form.username?this.form.password?this.$axios.post("/user/login",m.a.stringify(this.form)).then((function(t){p.userName=t.data.username,p.userId=t.data.user_id,p.token=t.data.authorization,p.avatar=t.data.avatar,2===t.data.result?e.$store.dispatch("user/saveUserInfo",p).then((function(t){e.$router.push({path:e.redirect||"/index/main"})})):e.$message.error(t.data.message)})).catch((function(t){e.$errorMsg(t.message||"Login failed, unknown error")})):this.$errorMsg("Please enter password"):this.$errorMsg("Please enter username")},onVerifySuccess:function(){this.verifyState=!0},register:function(){this.$router.push("/register")},forget:function(){this.$router.push("/forget")}}},v=h,g=(n("cc2c"),n("2877")),y=Object(g["a"])(v,r,o,!1,null,"178303c0",null);t["default"]=y.exports},ad73:function(e,t,n){},b7e7:function(e,t,n){e.exports=n.p+"static/img/img_login_bg_01.bdbdf150.png"},cc2c:function(e,t,n){"use strict";n("ad73")},e848:function(e,t,n){},e8fb:function(e,t,n){e.exports=n.p+"static/img/img_login_mobile_bg_01.4e27447b.jpg"}}]);